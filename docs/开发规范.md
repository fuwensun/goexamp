# 规范

## 常用资源

Go 编码规范(1) https://github.com/golang/go/wiki/CodeReviewComments  
Go 编码规范(2) https://github.com/mspromyhaha/uber_go_guide_cn  
版本规范(1) https://blog.csdn.net/wangkeyen/article/details/83413728  
版本规范(2) https://www.cnblogs.com/lanmiao/articles/2184282.html  
分支规范(1) https://www.cnblogs.com/kobe1991/p/6944747.html  
分支规范(2) https://blog.csdn.net/qq_33858250/article/details/81047883  
发布规范(1) https://www.cnblogs.com/hrhguanli/p/5066549.html  
发布规范(2) https://www.zhihu.com/question/21127832  
提交规范(1) https://www.jianshu.com/p/575430146302  
提交规范(2) https://os.51cto.com/art/202101/642286.htm  
测试(1) https://mp.weixin.qq.com/s/eAptnygPQcQ5Ex8-6l0byA  
测试(2) https://mp.weixin.qq.com/s/okmWMOeBm7cCIZ1zzFr4KQ  
测试(3) https://book.douban.com/subject/25742200  
## goms 项目

工程 https://github.com/aivuca/goms/projects/1  
工单 https://github.com/aivuca/goms/issues  
PR   https://github.com/aivuca/goms/pulls  

## 分支规范

集成分支  

- develop
  总集成分支  
- feature/versions/{$version}  
  版本集成分支  
  如:feature/versions/v1.0.0_beta  

功能分支  

- feature/{$version}/{$issue_id}_{$description}  
  版本功能分支,某个版本需求  
  如:feature/versions/#12_add_xxx  
- feature/{$username}/{$issue_id}_{$description}  
  非版本功能分支,不跟版本一起上线的功能或者不紧急的bugfix  
  如:feature/somename/#12_fix_xxx  

修复分支

- hotfix/{$username}/{$issue_id}_{$description}  
  修复紧急线上 bug 的分支  
  如:hotfix/somename/#12_fix_xxx  

## 分支规范(敏捷版)

集成分支  

- develop  
  总集成分支  

功能分支  

- feature/{$username}/{$issue_id}_{$description}  
  功能或者不紧急的bugfix分支  
  如:feature/somename/#12_fea_xxx 或 feature/somename/#12_fix_xxx  

修复分支

- hotfix/{$username}/{$issue_id}_{$description}  
  修复紧急线上 bug 的分支  
  如:hotfix/somename/#12_fix_xxx  

## 提交信息规范

- feat: 新增/修改功能 (feature)
- fix: 修补 bug (bug fix)
- refactor: 重构 (既不是新增功能，也不是修补 bug 的代码变动)
- perf: 改进性能 (A code change that improves performance)
- style: 格式 (不影响程序运行变动 white-space, formatting, missing semi colons, etc)
- test: 增加测试 (when adding missing tests)
- chore: 构建程序或辅助工具的变动 (maintain)
- docs: 文件 (documentation)
- revert: 撤销先前的 commit 例如：revert: type(scope): subject (恢复版本：xxxx)

## 版本规范

[语义化版本 Semantic Versioning 2.0.0](https://semver.org/)

Given a version number MAJOR.MINOR.PATCH, increment the:

- MAJOR version when you make incompatible API changes,
- MINOR version when you add functionality in a backwards compatible manner, and
- PATCH version when you make backwards compatible bug fixes.
- Additional labels for pre-release and build metadata are available as extensions to the MAJOR.MINOR.PATCH format.

## 发布规范

主干开发，分支发布

- 发布时 release 分支从 main 切出,
- 之后 release 分支只进行 bugfix (alpha/beta/rc)和 hotfix (x.y.1/x.y.2/...). 
- 必要的 fix 通过 cherry-pick 合并回 main.

...

## 错误处理

- **错误信息的打印** - wrap 上层的一般不用使用否定词,特别是 error,多个 error 使得一个错误看起来像多个错误.错误源头的信息要用否定词,如 error,failed,refused 等.
